C51 COMPILER V9.00   RELAY                                                                 05/06/2015 09:33:42 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE RELAY
OBJECT MODULE PLACED IN relay.OBJ
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE relay.c BROWSE INCDIR(D:\Keil_v5\C51\INC\STC) DEBUG OBJECTEXTEND

line level    source

   1          /*此程序是针对uPD6121系列遥控器的取码程序，解码值在Im[2]中，当IrOK=1时解码有效*/
   2          /******************************************************************************/
   3          /* 项目名称  : TX-1C扩展板 红外遥控器控制继电器                               */
   4          /* 主控芯片  : STC89C52                                                       */
   5          /* 文件名称  : Inf_Relay                                                      */
   6          /* 文件功能  : 主函数                                                         */
   7          /* 文件版权  : 北京海克智动科技开发有限公司                                   */
   8          /* 文件版本  :                                                                */
   9          /******************************************************************************/
  10          /**********************************包含头文件**********************************/
  11          #include <config.h>
  12          /********************************定义变量和数组********************************/
  13          unsigned long relay_m,relay_Tc;
  14          /******************************************************************************/
  15          /* 函数名称  : Inf_Dispose                                                    */
  16          /* 函数描述  : 红外接收处理函数                                               */
  17          /* 输入参数  : 无                                                             */
  18          /* 参数描述  : 无                                                             */ 
  19          /* 返回值    : 无                                                             */
  20          /******************************************************************************/
  21          void relay_Inf_Dispose(void)
  22          {
  23   1          if(IrOK == 1) 
  24   1          { 
  25   2              if(Im[2] == 0x44)     //遥控器OK键按下 控制继电器开关
  26   2              {
  27   3                  relay =~ relay;
  28   3              }
  29   2              IrOK = 0;          
  30   2              }
  31   1      }
  32          /******************************************************************************/
  33          /* 函数名称  : main                                                           */
  34          /* 函数描述  : 主函数                                                         */
  35          /* 输入参数  : 无                                                             */
  36          /* 参数描述  : 无                                                             */ 
  37          /* 返回值    : 无                                                             */
  38          /******************************************************************************/
  39          void relay_main(void)
  40          { 
  41   1              system_init();
  42   1              EA = 1;
  43   1              IT1 = 1;
  44   1          EX1 = 1;
  45   1              TMOD=0x21;  
  46   1              TH0 = 0;
  47   1          TL0 = 0;
  48   1              TR0 = 1;
  49   1          relay = 0;
  50   1              while(message=='e')
  51   1              {
  52   2                  relay_Inf_Dispose();            //红外接收处理
  53   2          }
  54   1      }
  55          /******************************************************************************/
C51 COMPILER V9.00   RELAY                                                                 05/06/2015 09:33:42 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     48    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
